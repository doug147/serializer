# serializer
Lightweight data serialization using length-prefixing when necessary

# Serializer example

```cpp
std::string text1 = "Lorem ipsum dolor sit amet, consectetur adipiscing elit.";
uint16_t val1 = 7777;
uint32_t val2 = 16777343;
uint64_t val3 = 76561197960287930;
std::string text2 = "Sed euismod, sapien vel bibendum bibendum, velit sapien lacinia velit, vel bibendum sapien sapien vel sapien.";
std::vector<uint8_t> buffer1 = { 0x01, 0x02, 0x03, 0x04, 0x05, 0x06 };

serializer s;
s << text1 << val1 << val2 << val3 << text2 << buffer1;

std::cout << s.str(); // Print the bytes in hexadecimal format
```

# Deserializer example
### Using the output from the above example (serializer example)

```cpp
std::vector<uint8_t> data = { 
    0x38, 0x00, 0x00, 0x00, 0x4C, 0x6F, 0x72, 0x65, 0x6D, 0x20, 0x69, 0x70, 0x73, 0x75, 0x6D, 0x20, 0x64,
    0x6F, 0x6C, 0x6F, 0x72, 0x20, 0x73, 0x69, 0x74, 0x20, 0x61, 0x6D, 0x65, 0x74, 0x2C, 0x20, 0x63, 0x6F,
    0x6E, 0x73, 0x65, 0x63, 0x74, 0x65, 0x74, 0x75, 0x72, 0x20, 0x61, 0x64, 0x69, 0x70, 0x69, 0x73, 0x63,
    0x69, 0x6E, 0x67, 0x20, 0x65, 0x6C, 0x69, 0x74, 0x2E, 0x61, 0x1E, 0x7F, 0x00, 0x00, 0x01, 0xBA, 0x56,
    0x00, 0x00, 0x01, 0x00, 0x10, 0x01, 0x6D, 0x00, 0x00, 0x00, 0x53, 0x65, 0x64, 0x20, 0x65, 0x75, 0x69,
    0x73, 0x6D, 0x6F, 0x64, 0x2C, 0x20, 0x73, 0x61, 0x70, 0x69, 0x65, 0x6E, 0x20, 0x76, 0x65, 0x6C, 0x20,
    0x62, 0x69, 0x62, 0x65, 0x6E, 0x64, 0x75, 0x6D, 0x20, 0x62, 0x69, 0x62, 0x65, 0x6E, 0x64, 0x75, 0x6D,
    0x2C, 0x20, 0x76, 0x65, 0x6C, 0x69, 0x74, 0x20, 0x73, 0x61, 0x70, 0x69, 0x65, 0x6E, 0x20, 0x6C, 0x61,
    0x63, 0x69, 0x6E, 0x69, 0x61, 0x20, 0x76, 0x65, 0x6C, 0x69, 0x74, 0x2C, 0x20, 0x76, 0x65, 0x6C, 0x20,
    0x62, 0x69, 0x62, 0x65, 0x6E, 0x64, 0x75, 0x6D, 0x20, 0x73, 0x61, 0x70, 0x69, 0x65, 0x6E, 0x20, 0x73,
    0x61, 0x70, 0x69, 0x65, 0x6E, 0x20, 0x76, 0x65, 0x6C, 0x20, 0x73, 0x61, 0x70, 0x69, 0x65, 0x6E, 0x2E,
    0x06, 0x00, 0x00, 0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06 
};

std::string text1;
uint16_t val1;
uint32_t val2;
uint64_t val3;
std::string text2;
std::vector<uint8_t> buffer1;

deserializer des(data);

des >> text1 >> val1 >> val2 >> val3 >> text2 >> buffer1;

std::cout << "text1: " << text1 << std::endl;
std::cout << "val1: " << val1 << std::endl;
std::cout << "val2: " << val2 << std::endl;
std::cout << "val3: " << val3 << std::endl;
std::cout << "text2: " << text2 << std::endl;
std::cout << "buffer1: " << bytes_to_hex(buffer1.data(), buffer1.size()) << std::endl;

/* This will output:
text1: Lorem ipsum dolor sit amet, consectetur adipiscing elit.
val1: 7777
val2: 16777343
val3: 76561197960287930
text2: Sed euismod, sapien vel bibendum bibendum, velit sapien lacinia velit, vel bibendum sapien sapien vel sapien.
buffer1: 010203040506
*/
```



